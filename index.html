<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        body,
        html {
            width: 100%;
            height: 100%;
            margin: 0;
            font-family: "微软雅黑";
        }

        #allmap {
            width: 100%;
            height: 500px;
        }

        p {
            margin-left: 5px;
            font-size: 14px;
        }
    </style>
    <script type="text/javascript"
        src="http://api.map.baidu.com/api?v=2.0&ak=xt2N09s2k3ZrWRnphZbND6bliyqFUbsP"></script>
    <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
    <title>TravelMap</title>
</head>

<body>
    <div id="allmap"></div>
    <p>点击标注点，可查看由纯文本构成的简单型信息窗口</p>
</body>

</html>
<script type="text/javascript">
    // 百度地图API功能	
    var map = new BMap.Map("allmap");
    map.enableScrollWheelZoom();
    map.centerAndZoom(new BMap.Point(116.404, 39.915), 8);

    var datas = [
        {
            'point_x': 116,
            'point_y': 40,
            'title': 'temp111',
            'content': '11111',
            'img': 'http://lbsyun.baidu.com/jsdemo/img/tianAnMen.jpg'
        },
        {
            'point_x': 116,
            'point_y': 40,
            'title': 'temp222',
            'content': '22222',
            'img': 'http://lbsyun.baidu.com/jsdemo/img/tianAnMen.jpg'
        },
        {
            'point_x': 116,
            'point_y': 40,
            'title': 'temp',
            'content': '33333',
            'img': 'http://lbsyun.baidu.com/jsdemo/img/tianAnMen.jpg'
        },
        {
            'point_x': 116,
            'point_y': 40,
            'title': 'temp',
            'content': '44444',
            'img': 'http://lbsyun.baidu.com/jsdemo/img/tianAnMen.jpg'
        },
        {
            'point_x': 116,
            'point_y': 40,
            'title': 'temp',
            'content': '55555',
            'img': 'http://lbsyun.baidu.com/jsdemo/img/tianAnMen.jpg'
        }
    ]

    for (var i = 0; i < datas.length; i++) {
        let point = new BMap.Point(datas[i]['point_x'], datas[i]['point_y'] + i * 0.3);
        var marker = new BMap.Marker(point);

        let sContent =
            "<h4 style='margin:0 0 5px 0;padding:0.2em 0'>" + datas[i]['title'] + "</h4>" +
            "<img style='float:right;margin:4px' id='imgDemo" + i + "'src='" + datas[i]['img'] + "' width='139' height='104' title='" + datas[i]['title'] + "'/>" +
            "<p style='margin:0;line-height:1.5;font-size:13px;text-indent:2em'>" + datas[i]['content'] + "</p>" +
            "</div>";

        map.addOverlay(marker);
        marker.addEventListener("click", function (e) {
            var infoWindow = new BMap.InfoWindow(sContent);  // 创建信息窗口对象 
            map.openInfoWindow(infoWindow, point); //开启信息窗口
        });
    }
</script>